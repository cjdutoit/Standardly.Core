{
  "name": "BROKERS: Storage Broker",
  "description": "Generates a Storage Broker with all CRUD operations",
  "templateType": "API",
  "projectsRequired": "Api",
  "sortOrder": 1,
  "tasks": [
    {
      "name": "001 - BROKERS: Storage Broker",
      "branchName": "brokers-storage-$parameterSafeItemNamePluralLower$",
      "actions": [
        {
          "name": "Add Storgage Broker",
          "executionFolder": "$projectFolder$",
          "files": [
            {
              "template": "$templateFolder$\\Api\\Brokers\\Storages\\StorageBroker\\001_IStorageBroker.cs.txt",
              "target": "$projectFolder$\\$brokers$\\Storages\\IStorageBroker.cs",
              "replace": false
            },
            {
              "template": "$templateFolder$\\Api\\Brokers\\Storages\\StorageBroker\\001_StorageBroker.cs.txt",
              "target": "$projectFolder$\\$brokers$\\Storages\\StorageBroker.cs",
              "replace": false
            }
          ]
        }
      ]
    },
    {
      "name": "002 - DATA: $safeItemNameSingular$ Model",
      "branchName": "data-$parameterSafeItemNamePluralLower$-model",
      "actions": [
        {
          "name": "Add $safeItemNameSingular$ Model",
          "executionFolder": "$projectFolder$",
          "files": [
            {
              "template": "$templateFolder$\\Api\\Brokers\\Storages\\StorageBroker\\002_Item.cs.txt",
              "target": "$projectFolder$\\$models$\\$safeItemNamePlural$\\$safeItemNameSingular$.cs",
              "replace": false
            }
          ]
        }
      ]
    },
    {
      "name": "003 - BROKERS: Storage - Insert $safeItemNameSingular$",
      "branchName": "brokers-$parameterSafeItemNamePluralLower$-insert",
      "actions": [
        {
          "name": "Add Insert",
          "executionFolder": "$projectFolder$",
          "files": [
            {
              "template": "$templateFolder$\\Api\\Brokers\\Storages\\StorageBroker\\003_IStorageBroker.Items.cs.txt",
              "target": "$projectFolder$\\$brokers$\\Storages\\IStorageBroker.$safeItemNamePlural$.cs",
              "replace": true
            },
            {
              "template": "$templateFolder$\\Api\\Brokers\\Storages\\StorageBroker\\003_StorageBroker.Items.cs.txt",
              "target": "$projectFolder$\\$brokers$\\Storages\\StorageBroker.$safeItemNamePlural$.cs",
              "replace": true
            },
            {
              "template": "$templateFolder$\\Api\\Brokers\\Storages\\StorageBroker\\003_StorageBroker.Items.Configurations.cs.txt",
              "target": "$projectFolder$\\$brokers$\\Storages\\StorageBroker.$safeItemNamePlural$.Configurations.cs",
              "replace": true
            },
            {
              "template": "$templateFolder$\\Api\\Brokers\\Storages\\StorageBroker\\003_StorageBroker.Items.SeedData.cs.txt",
              "target": "$projectFolder$\\$brokers$\\Storages\\StorageBroker.$safeItemNamePlural$.SeedData.cs",
              "replace": true
            }
          ]
        }
      ]
    },
    {
      "name": "004 - BROKERS: Storage - Select All $safeItemNamePlural$",
      "branchName": "brokers-$parameterSafeItemNamePluralLower$-selectall",
      "actions": [
        {
          "name": "Add Select All",
          "executionFolder": "$projectFolder$",
          "files": [
            {
              "template": "$templateFolder$\\Api\\Brokers\\Storages\\StorageBroker\\004_IStorageBroker.Items.cs.txt",
              "target": "$projectFolder$\\$brokers$\\Storages\\IStorageBroker.$safeItemNamePlural$.cs",
              "replace": true
            },
            {
              "template": "$templateFolder$\\Api\\Brokers\\Storages\\StorageBroker\\004_StorageBroker.Items.cs.txt",
              "target": "$projectFolder$\\$brokers$\\Storages\\StorageBroker.$safeItemNamePlural$.cs",
              "replace": true
            }
          ]
        }
      ]
    },
    {
      "name": "005 - BROKERS: Storage - Select $safeItemNameSingular$ By Id",
      "branchName": "brokers-$parameterSafeItemNamePluralLower$-selectbyid",
      "actions": [
        {
          "name": "Add Select By Id",
          "executionFolder": "$projectFolder$",
          "files": [
            {
              "template": "$templateFolder$\\Api\\Brokers\\Storages\\StorageBroker\\005_IStorageBroker.Items.cs.txt",
              "target": "$projectFolder$\\$brokers$\\Storages\\IStorageBroker.$safeItemNamePlural$.cs",
              "replace": true
            },
            {
              "template": "$templateFolder$\\Api\\Brokers\\Storages\\StorageBroker\\005_StorageBroker.Items.cs.txt",
              "target": "$projectFolder$\\$brokers$\\Storages\\StorageBroker.$safeItemNamePlural$.cs",
              "replace": true
            }
          ]
        }
      ]
    },
    {
      "name": "006 - BROKERS: Storage - Update $safeItemNameSingular$",
      "branchName": "brokers-$parameterSafeItemNamePluralLower$-update",
      "actions": [
        {
          "name": "Add Update",
          "executionFolder": "$projectFolder$",
          "files": [
            {
              "template": "$templateFolder$\\Api\\Brokers\\Storages\\StorageBroker\\006_IStorageBroker.Items.cs.txt",
              "target": "$projectFolder$\\$brokers$\\Storages\\IStorageBroker.$safeItemNamePlural$.cs",
              "replace": true
            },
            {
              "template": "$templateFolder$\\Api\\Brokers\\Storages\\StorageBroker\\006_StorageBroker.Items.cs.txt",
              "target": "$projectFolder$\\$brokers$\\Storages\\StorageBroker.$safeItemNamePlural$.cs",
              "replace": true
            }
          ]
        }
      ]
    },
    {
      "name": "007 - BROKERS: Storage - Delete $safeItemNameSingular$",
      "branchName": "brokers-$parameterSafeItemNamePluralLower$-delete",
      "actions": [
        {
          "name": "Add Delete",
          "executionFolder": "$projectFolder$",
          "files": [
            {
              "template": "$templateFolder$\\Api\\Brokers\\Storages\\StorageBroker\\007_IStorageBroker.Items.cs.txt",
              "target": "$projectFolder$\\$brokers$\\Storages\\IStorageBroker.$safeItemNamePlural$.cs",
              "replace": true
            },
            {
              "template": "$templateFolder$\\Api\\Brokers\\Storages\\StorageBroker\\007_StorageBroker.Items.cs.txt",
              "target": "$projectFolder$\\$brokers$\\Storages\\StorageBroker.$safeItemNamePlural$.cs",
              "replace": true
            }
          ]
        }
      ]
    }
  ],
  "cleanupTasks": [
    "----------------------------------------------------",
    "BROKERS: StorageBroker",
    "----------------------------------------------------",
    "* Register the StorageBroker in Startup.cs => AddBrokers(IServiceCollection services) then do a commit and push.",
    "* Add Add$safeItemNameSingular$Configurations(modelBuilder) to the OnModelCreating method of the Storage Broker.",
    "* Add any fluent configuration required to StorageBroker.$safeItemNamePlural$.Configurations.cs",
    "* Extend $safeItemNameSingular$.cs with your required properties and update the migration, then do a commit and push.",
    "* Resolve / remove any TODO items in the task list if any",
    "* Link the pull request(s) to related issues by adding e.g. #CLOSES 123 to the description",
    "* Review Draft Pull Requests (and add more commits by pushing to any of the branches if needed):",
    "  - BROKERS: Storage Broker  ->  users/$username$/brokers-storage",
    "  - DATA: $safeItemNameSingular$ Model  ->  users/$username$/data-$parameterSafeItemNamePluralLower$-model",
    "  - BROKERS: Storage - Insert $safeItemNameSingular$  ->  users/$username$/brokers-$parameterSafeItemNamePluralLower$-insert",
    "  - BROKERS: Storage - Select All $safeItemNamePlural$  ->  users/$username$/brokers-$parameterSafeItemNamePluralLower$-selectall",
    "  - BROKERS: Storage - Select $safeItemNameSingular$ By Id  ->  users/$username$/brokers-$parameterSafeItemNamePluralLower$-selectbyid",
    "  - BROKERS: Storage - Update $safeItemNameSingular$  ->  users/$username$/brokers-$parameterSafeItemNamePluralLower$-update",
    "  - BROKERS: Storage - Delete $safeItemNameSingular$  ->  users/$username$/brokers-$parameterSafeItemNamePluralLower$-delete"
  ]
}